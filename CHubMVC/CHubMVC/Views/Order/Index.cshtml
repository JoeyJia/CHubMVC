@{
    ViewBag.Title = "Quick Order Entry";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    label.form-control {
        margin-left:10px;
    }

</style>

<input type="hidden" value="@ViewBag.AppUser" id="hddAppUser" />

<div id="orderBody" ng-app="orderApp" ng-controller="orderCtrl">
    <form class="form-horizontal" action="/order/index" method="post">
        <div class="panel panel-default">
            <div class="panel-heading"><b>Quick Order Entry</b></div>
            
            <div class="row" style="margin-top:20px;">
                <div class="form-group">
                    <label for="orderID" class="col-sm-1 control-label">Order SEQ</label>
                    <div class="col-sm-1">
                        <input type="text" class="form-control" id="orderID" placeholder="Auto Generation" disabled>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="form-group">
                    <label for="cAlias" class="col-sm-1 control-label">Cus Alias</label>
                    <div class="col-sm-2">
                        <select class="form-control" id="cAlias" ng-model="selectedAlias" ng-options="ca.ALIAS_NAME for ca in custAlias" >

                        </select>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="form-group">
                    <label for="poNum" class="col-sm-1 control-label">PO No.</label>
                    <div class="col-sm-2">
                        <input type="text"  class="form-control" id="poNum" placeholder="Customer PO No.">
                    </div>

                    <label for="orderType" class="col-sm-1 control-label">Order Type</label>
                    <div class="col-sm-2">
                        <select class="form-control" id="orderType" ng-model="selectedOrderType" ng-options="ot.ORDER_TYPE for ot in orderType">

                        </select>
                    </div>

                    <label for="dueDate" class="col-sm-1 control-label">Due Date</label>
                    <div class="col-sm-1">
                        <input type="text" class="form-control" id="dueDate" placeholder="Due Date">
                    </div>

                    <label for="cShip" class="col-sm-1 control-label">Complete Ship</label>
                    <div class="col-sm-1">
                        <select class="form-control" id="cShip">
                            <option>N</option>
                            <option>Y</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="form-group">
                    <label for="notes" class="col-sm-1 control-label">Notes</label>
                    <div class="col-sm-9 col-lg-9">
                        <input type="text" class="form-control col-sm-8" id="notes" placeholder="Notes" value={{notice}} style="width:90%;">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="form-group">
                    <label for="ssto" class="col-sm-1 control-label">SS to Order</label>
                    <div class="checkbox col-md-2 col-lg-2">
                        <label>
                            <input type="checkbox" id="ssto"  style="margin-left:1px;" checked>
                        </label>
                    </div>
                </div>
            </div>


                <div class="row" id="searchBox">
                    <div class="panel panel-default col-sm-7 col-sm-offset-1">
                        <div class="form-group" style="padding-top:10px">
                            <label for="shipName" class="col-sm-2 control-label">Ship Name</label>
                            <div class="col-sm-7 col-lg-7">
                                <input type="text" class="form-control" id="sbShipName" placeholder="Ship Name">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="sbAddr" class="col-sm-2 control-label">Address</label>
                            <div class="col-sm-7 col-lg-7">
                                <input type="text" class="form-control" id="sbAddr" placeholder="Address">
                            </div>

                            <div class="col-sm-2">
                                <button type="submit" class="btn btn-default">Search</button>
                            </div>
                        </div>


                    </div>
                </div>




            </div>
    </form>
</div>

<script>
    $(document).ready(function () {

        //alert("loaded");
    });


    //Angular orderApp start
    angular.module('orderApp', []).controller('orderCtrl', function ($scope, $http) {

        $http.post("/order/init",null,null).then(function (resp) {
        $scope.custAlias = resp.data.custAlias;
        $scope.orderType = resp.data.orderType;

        $scope.selectedAlias = resp.data.selectedAlias;
        $scope.selectedOrderType = "";
        $scope.notice = "Notice 123";
            debugger;
        }, 
     function (resp) {
         alert("Fail!");
         $scope.resp = resp;
         debugger;
     }
     );




    });


</script>
